---
title: NVDIA Steam初体验
tags:
  - NVDIA
  - Cloud Game
date: 2021-04-05 23:06:43
---


手头有台闲置的笔记本，一直在运行Linux。笔记本上有张GTX 970M的显卡，想着能不能拿来玩游戏(Apex)。问题在于：
1. Apex不支持在Linux下运行，即使是借助wine的[lutris](https://lutris.net/)。因此，只能考虑在一台笔记本上，同时运行Linux和windows。
2. 因为要运行Linux，希望能把笔记本一直放在杂物间里，避免搬来搬去。

对于第一个问题，有两个解决办法：
1. 使用虚拟机，如果要在虚拟机中使用显卡来获得较好的性能，可以考虑设备直通。支持这一用法的有ESIX。
2. 使用双系统，通过grub来解决系统间的切换。

## 同时运行Windows和Linux

### 使用EXSI通过设备直通来同时使用Windows和Linux

安装EXSI的过程中，遇到无法找到网卡设备的问题。最后发现是ESXI内置支持的网卡驱动比较少，下载了一个别人改造过的版本，顺利安装。悲剧的是，我发现虽然GTX 970M支持设备直通，但是笔记本的bios不支持这一用法。

### 使用双系统来同时使用Windows和Linux

双系统的使用过程不多赘述，要点如下:
1. 先安装Windows，再安装Linux
2. 分区设置，将引导默认由Linux中的grub管理

因为grub可以识别Windows启动项，但是Windows不能识别Linux启动项(至少我没发现办法)。

这样做有一个局限，就是没法同时运行Linux和Windows，考虑到使用Windows的场景并不多，偶尔拿来打游戏还是能接受的。同时，还有另外一个问题。那就是如何在不去现场操作笔记本的情况下，能在双系统间进行切换？

解决的要点如下：
1. 分别设置Windows和Linux的网卡成静态IP，同时分别打开远程桌面和sshd，保证重启后，能登录到笔记本里。
2. Linux下可以直接操作grub，修改默认启动项，在Linux下，将grub默认设置为Windows，然后重启；在Windows下，将grub默认设置为Linux，然后重启。

关于如何在Windows下操作grub：

Windows下首先找到grub相应的引导分区，直接修改grub.cfg即可。

## 通过NVDIA Stream来玩游戏

云游戏的概念很早就出现了，毕竟，只要是使用过远程桌面，就会很自然的想到，能不能远程使用应用，尤其是游戏。当前能找到的云游戏的解决方案很多，腾讯更是几年前就推出过堡垒之夜的云端试玩。我选择了NVDIA Stream，是因为使用起来相对简单，而且我使用的是N卡，如果电脑要支持云游戏，那么我觉得显卡驱动这一层来支持是最好的。

使用NVDIA Sream过程中，遇到一些问题：

1. NVDIA Get Experience存在网络问题

一开始是无法登陆，后来是登陆了无法跳转，最后通过某加速器加速NVDIA Get Experience解决问题。

2. 远程桌面下，无法打开NVDIA Stream

这个问题，我折腾了最久。后来用了命令行版的NVDIA Stream，发现是远程桌面下不能支持NVDIA Steam。可以使用vnc之类的软件来解决。当然，也可以一次设置好，下次直接让NVDIA Stream自动启动就好。注意，只要使用过远程桌面，就会导致NVDIA Steam失效。

3. 游戏运行前，需要首先运行加速器

这个问题，我暂时是手动运行解决的。我觉得，可以尝试将加速器也添加到NVDIA Steam的game list中，先运行加速器，再运行游戏，应该也是，没问题的。

## 使用体验

我的测试环境是千兆无线网络，基本感觉不到延迟，偶尔有网络波动，通过有线网络应该可以获得更好的游戏体验。更难得的是，moonlight不仅支持在电脑上玩云游戏，在手机上也可以运行云游戏。可以预见，云游戏在不久的未来，会越来越流行。

